{"version":3,"sources":["webpack:///./src/templates/school-page.tsx"],"names":["BlogPostTemplate","props","school","data","directusSchool","title","name","slug","id","siteUrl","site","siteMetadata","shareUrl","urljoin","disqusConfig","shortname","process","config","identifier","description","date","created_on","preview","url","quote","pageQuery"],"mappings":"yUA6FeA,UAhEU,SAACC,GAAiC,QACnDC,EAASD,EAAME,KAAKC,eACpBC,GAAQH,aAAA,EAAAA,EAAQI,OAAQ,GACxBC,GAAOL,aAAA,EAAAA,EAAQM,KAAM,GACrBC,EAAO,UAAGR,EAAME,KAAKO,YAAd,iBAAG,EAAiBC,oBAApB,aAAG,EAA+BF,QACzCG,EAAWC,IAAQJ,EAASF,GAE5BO,EAAe,CACnBC,UAAWC,GACXC,OAAQ,CAAEC,WAAYX,EAAMF,UAExBc,GAAiBjB,aAAN,EAAMA,EAAQI,MAAd,mCAEjB,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKD,MAAOA,EAAOc,YAAaA,IAChC,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEd,MAAOA,EACPe,KAAMlB,EAAQmB,WACdC,QAAS,KACTH,YAAaA,IAEf,kBAAC,IAAD,KACU,KASR,kBAAC,IAAD,KACE,6CACA,kBAAC,IAAD,CAAqBI,IAAKX,EAAUY,MAAOL,GACzC,kBAAC,IAAD,OAEF,kBAAC,IAAD,CAAoBI,IAAKX,EAAUP,MAAOA,GACxC,kBAAC,IAAD,OAQF,kBAAC,IAAD,CAAmBkB,IAAKX,EAAUP,MAAOA,GACvC,kBAAC,IAAD,SAKN,kBAAC,IAAD,KACE,kBAAC,kBAAoBS,KAGzB,kBAAC,IAAD,SAQD,IAAMW,EAAY","file":"component---src-templates-school-page-tsx-a95caf5690bbd10bf0ed.js","sourcesContent":["import React from 'react';\nimport _ from 'lodash';\nimport { graphql, Link } from 'gatsby';\nimport urljoin from 'url-join';\nimport { DiscussionEmbed } from 'disqus-react';\nimport Layout from '../components/layout';\nimport SEO from '../components/seo';\nimport PostDetails from '../components/PostDetails/postDetails';\nimport Sidebar from '../containers/Sidebar';\nimport {\n  FacebookShareButton,\n  TwitterShareButton,\n  RedditShareButton\n} from 'react-share';\nimport { IoLogoFacebook, IoLogoTwitter, IoLogoReddit } from 'react-icons/io';\nimport {\n  BlogPostDetailsWrapper,\n  BlogPostFooter,\n  PostShare,\n  PostTags,\n  BlogPostComment,\n  BlogDetailsContent\n} from './templates.style';\nimport { SchoolBySlugQuery } from '../../generated/types';\n\nexport interface BlogPostTemplateProps {\n  data: SchoolBySlugQuery;\n}\n\nconst BlogPostTemplate = (props: BlogPostTemplateProps) => {\n  const school = props.data.directusSchool;\n  const title = school?.name || '';\n  const slug = school?.id || '';\n  const siteUrl = props.data.site?.siteMetadata?.siteUrl;\n  const shareUrl = urljoin(siteUrl, slug);\n\n  const disqusConfig = {\n    shortname: process.env.DISQUS_NAME,\n    config: { identifier: slug, title }\n  };\n  const description = `${school?.name}'s COVID-19 volunteer activities`;\n\n  return (\n    <Layout>\n      <SEO title={title} description={description} />\n      <BlogPostDetailsWrapper>\n        <BlogDetailsContent>\n          <PostDetails\n            title={title}\n            date={school!.created_on}\n            preview={null}\n            description={description}\n          />\n          <BlogPostFooter>\n            {true ? null : (\n              <PostTags className=\"post_tags\">\n                {[].map((tag: string, index: number) => (\n                  <Link key={index} to={`/tags/${_.kebabCase(tag)}/`}>\n                    {`#${tag}`}\n                  </Link>\n                ))}\n              </PostTags>\n            )}\n            <PostShare>\n              <span>Share This:</span>\n              <FacebookShareButton url={shareUrl} quote={description}>\n                <IoLogoFacebook />\n              </FacebookShareButton>\n              <TwitterShareButton url={shareUrl} title={title}>\n                <IoLogoTwitter />\n              </TwitterShareButton>\n              {/* <PinterestShareButton\n                  url={shareUrl}\n                  media={urljoin(siteUrl, post.frontmatter.cover.publicURL)}\n                  >\n                  <IoLogoPinterest />\n                  </PinterestShareButton> */}\n              <RedditShareButton url={shareUrl} title={title}>\n                <IoLogoReddit />\n              </RedditShareButton>\n            </PostShare>\n          </BlogPostFooter>\n\n          <BlogPostComment>\n            <DiscussionEmbed {...disqusConfig} />\n          </BlogPostComment>\n        </BlogDetailsContent>\n        <Sidebar />\n      </BlogPostDetailsWrapper>\n    </Layout>\n  );\n};\n\nexport default BlogPostTemplate;\n\nexport const pageQuery = graphql`\n  query SchoolBySlug($slug: String!) {\n    site {\n      siteMetadata {\n        siteUrl\n      }\n    }\n    directusSchool(id: { eq: $slug }) {\n      activities_info {\n        activity {\n          status\n          name\n          directusId\n          created_on\n          id\n        }\n        contact\n        details\n        directusId\n        status\n        created_on\n        id\n      }\n      directusId\n      name\n      state\n      status\n      created_on\n      id\n    }\n  }\n`;\n"],"sourceRoot":""}